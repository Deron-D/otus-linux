# **Домашнее задание №16: Сбор и анализ логов**

## **Задание:**
Настраиваем центральный сервер для сбора логов
в вагранте поднимаем 2 машины web и log
на web поднимаем nginx
на log настраиваем центральный лог сервер на любой системе на выбор
- journald
- rsyslog
- elk
настраиваем аудит следящий за изменением конфигов нжинкса

все критичные логи с web должны собираться и локально и удаленно
все логи с nginx должны уходить на удаленный сервер (локально только критичные)
логи аудита должны также уходить на удаленную систему


* развернуть еще машину elk
и таким образом настроить 2 центральных лог системы elk И какую либо еще
в elk должны уходить только логи нжинкса
во вторую систему все остальное
Критерии оценки: 4 - если присылают только логи скриншоты без вагранта
5 - за полную настройку
6 - если выполнено задание со звездочкой

---

## **Выполнено:**


## **Полезное:**

```
# journalctl --field=_TRANSPORT - все доступные транспорты
# journalctl _TRANSPORT=syslog - то, что пришло через syslog
# journalctl _TRANSPORT=syslog -o verbose - структурированные данные
# journalctl -p crit
 -p
  emerg (0)
  alert (1) - PRIORITY=1
  crit (2) - PRIORITY=1
  err (3) - PRIORITY=3
  warning (4)
  notice (5)
  info (6)
  debug (7)
# journactl -u mysqld.service -f - отслеживание лога mysql (аналог tail -f)
# journalctl _UID=0 - все с UID 0
# journalctl --list-boots - показать время ребутов сервера (если нет директории то будет показан только последний)
# journalctl -b -2 - показать логи второго бута
```
